# Configuración BLE optimizada para Alpha34

# Nombre del dispositivo BLE
CONFIG_ZMK_KEYBOARD_NAME="Alpha34"

# Habilitar BLE
CONFIG_BT=y
CONFIG_ZMK_BLE=y

# Advertising - Intervalos optimizados para mejor detectabilidad
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_APPEARANCE=961
CONFIG_BT_DEVICE_NAME="Alpha34"

# Intervalos de advertising (en unidades de 0.625ms)
# Min: 20ms (32 unidades), Max: 30ms (48 unidades) - Más agresivo para mejor detección
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12
CONFIG_BT_PERIPHERAL_PREF_LATENCY=30
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Potencia de transmisión aumentada para mejor alcance
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Número de perfiles BLE (permite conectar hasta 5 dispositivos)
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# Optimizaciones de conexión
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
CONFIG_BT_GAP_AUTO_UPDATE_CONN_PARAMS=y

# Buffer sizes - Incrementar para mejor estabilidad
CONFIG_BT_L2CAP_TX_BUF_COUNT=8
CONFIG_BT_L2CAP_TX_MTU=65
CONFIG_BT_BUF_ACL_RX_SIZE=65
CONFIG_BT_BUF_ACL_TX_SIZE=65

# Habilitar servicios BLE necesarios
CONFIG_BT_GATT_CLIENT=y
CONFIG_BT_SETTINGS=y
CONFIG_SETTINGS=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y

# Logging para debug (opcional, se puede deshabilitar en producción)
CONFIG_ZMK_USB_LOGGING=n
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n

# Optimizaciones de energía
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000
CONFIG_ZMK_IDLE_TIMEOUT=30000

# Mejoras de rendimiento BLE
CONFIG_BT_CONN_TX_MAX=3
CONFIG_BT_RX_STACK_SIZE=2048

# Habilitar funciones de perfil BLE
CONFIG_ZMK_BLE_PASSKEY_ENTRY=y
